<!doctype html>
<html lang="tr">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
  <meta name="theme-color" content="#ff69b4">
  <title>CanÄ±m GÃ¼lÃ§in â€” SÃ¼rpriz</title>
  <link rel="manifest" href="manifest.json">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,700&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
</head>

<body class="not-loaded">
  <div class="app">
    <div class="card">
      <aside class="sidebar">
        <div class="brand">CanÄ±m GÃ¼lÃ§in ðŸ’–</div>
        <button class="btn primary" id="btnSurprise">SÃ¼rprizi BaÅŸlat</button>
        <button class="btn" data-target="gallery">Galeri</button>
        <button class="btn" data-target="love">Sevgi Oyunu</button>
        <button class="btn" data-target="flappy">Flappy</button>
        <div style="flex:1"></div>
        <div class="muted">Â© 2026</div>
      </aside>

      <main class="main">
    <div id="homePanel">
        <h1 class="playfair">HoÅŸ Geldin GÃ¼lÃ§in'im</h1>
        <p>Senin iÃ§in hazÄ±rladÄ±ÄŸÄ±m kÃ¼Ã§Ã¼k dÃ¼nyaya hoÅŸ geldin...</p>
    </div>

    <div id="galleryPanel" style="display:none;">
        <h2 class="playfair" style="text-align:center; color:#ff69b4;">AnÄ±larÄ±mÄ±z</h2>
        <div id="galleryGrid" class="gallery-grid"></div>
    </div>

    <div id="surprisePanel" style="display:none;">
        <div class="slideshow-container">
            <div id="slideFrame" class="slide-frame">
                <img id="slideImage" src="" alt="GÃ¼lÃ§in">
                <video id="slideVideo" src="" style="display:none;" controls></video>
                <div id="slideCaption" class="slide-caption"></div>
            </div>
            <div class="slide-controls">
                <button id="prevBtn" class="btn alt">Ã–nceki</button>
                <button id="nextBtn" class="btn primary">Sonraki</button>
                <button id="closeSurprise" class="btn alt">Kapat</button>
            </div>
        </div>
    </div>

    </main>

          <div id="flappyPanel" style="display:none">
            <canvas id="flappyCanvas" width="320" height="480"></canvas>
            <div style="display:flex;gap:8px;align-items:center;margin-top:8px">
              <label for="flappyDifficulty" style="color:var(--muted);font-weight:600">Zorluk:</label>
              <select id="flappyDifficulty" style="padding:6px;border-radius:6px">
                <option value="easy">Kolay</option>
                <option value="medium">Orta</option>
                <option value="hard">Zor</option>
              </select>
              <div style="flex:1"></div>
              <div style="display:flex;gap:8px"><button class="btn" id="flappyStart">BaÅŸla</button><button class="btn"
                  id="flappyStop">Dur</button></div>
            </div>
            <div id="flappyInfo" style="color:var(--muted);margin-top:8px">Space veya tÄ±klama ile zÄ±pla.</div>
          </div>

        </section>
      </main>
    </div>
  </div>

  <!-- Slide modal -->
  <div class="modal" id="slideModal" style="display:none">
    <div class="frame">
      <img id="slideImage" src="" alt="">
      <div class="overlayText" id="slideCaption"></div>
      <div class="phrase" id="slidePhrase"></div>
      <div class="controls">
        <button class="btn" id="prevSlide">Ã–nceki</button>
        <button class="btn primary" id="closeSlide">Kapat</button>
        <button class="btn" id="nextSlide">Sonraki</button>
      </div>
    </div>
  </div>

  <!-- Media and Surprise modals expected by script.js -->
  <div id="media-container" class="modal" style="display:none">
    <div class="frame">
      <img id="media-image" src="" style="display:none;max-width:80vw;max-height:60vh;border-radius:8px" />
      <video id="media-video" controls style="display:none;max-width:80vw;max-height:60vh;border-radius:8px"></video>
      <div style="margin-top:8px"><button id="media-close" class="btn alt">Kapat</button></div>
    </div>
  </div>

  <div id="surprise-modal" class="modal" style="display:none">
    <div class="frame" style="text-align:center">
      <h2>Bir SÃ¼rpriz Var ðŸŒ¸</h2>
      <p style="color:var(--muted)">Bu sÃ¼rprizi aÃ§mak ister misin?</p>
      <div style="display:flex;gap:8px;justify-content:center;margin-top:8px">
        <button id="surprise-open" class="btn primary">SÃ¼rprizi AÃ§</button>
        <button id="surprise-close" class="btn alt">Kapat</button>
      </div>
    </div>
  </div>

  <div class="fireflies" aria-hidden="true" style="position:fixed;inset:0;pointer-events:none"></div>

  <script>
    // Localhost: temiz Ã§alÄ±ÅŸma iÃ§in kayÄ±tlÄ± service worker'larÄ± ve cache'leri kaldÄ±r
    if (location.hostname === 'localhost' || location.hostname === '127.0.0.1') {
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.getRegistrations().then(regs => regs.forEach(r => r.unregister())).catch(() => { });
      }
      if ('caches' in window) {
        caches.keys().then(keys => keys.forEach(k => caches.delete(k))).catch(() => { });
      }
      console.log('Local cleanup: service workers & caches cleared (localhost).');
    }
  </script>
  <script src="script.js"></script>
  <script src="app.js"></script>
</body>

</html>
